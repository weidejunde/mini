<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PEZ0XRXXQC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PEZ0XRXXQC');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yao Language Dictionary | Áë∂ÊóèËØçÂÖ∏ | T·ª´ ƒëi·ªÉn ti·∫øng Dao</title>
    <meta name="description" content="T·ª´ ƒëi·ªÉn tr·ª±c tuy·∫øn gi√∫p tra c·ª©u v√† h·ªçc t·ª´ v·ª±ng ti·∫øng Dao (Áë∂Êóè). H·ªó tr·ª£ t√¨m nghƒ©a, ph√°t √¢m v√† k√Ω t·ª± ch·ªØ N√¥m Dao." />
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/ci.css">
    <link rel="stylesheet" href="css/root.css">
</head>
<body>
    <!-- Header s·∫Ω ƒë∆∞·ª£c inject v√†o ƒë√¢y -->
    <div id="header-placeholder"></div>

    <!-- Main content container -->
    <main class="page-content">
        <div class="dau-web">
            
            
            <div class="nhom-tha-xuong">
                <div class="khung-chon-ngon-ngu">
                    <select id="chon-phuong-ngu-yao" onchange="handleMienMunSelection()">
                        <option value="mien">MIEN</option>
                        <option value="mun" selected>MUN</option>
                    </select>
                    <select class="language-selector" id="chon-ngon-ngu" onchange="changeLanguage()">
                        <option value="eng">English üá¨üáß</option>
                        <option value="zho">‰∏≠Êñá üá®üá≥</option>
                        <option value="vie" selected>Ti·∫øng Vi·ªát üáªüá≥</option>
                        <option value="tha">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ üáπüá≠</option>
                        <option value="lao">‡∫û‡∫≤‡∫™‡∫≤‡∫•‡∫≤‡∫ß üá±üá¶</option>
                        <option value="fra">Fran√ßais üá´üá∑</option>
                        <option value="mya">·Äô·Äº·Äî·Ä∫·Äô·Ä¨·ÄÖ·Ä¨ üá≤üá≤</option>
                    </select>
                </div>
                
                <div class="search-container">
                    <input type="text" id="timkiemx" placeholder="Find...">
                    <button id="nut-tim-kiem" title="T√¨m ki·∫øm">üîç</button>
                    <button id="nut-ngau-nhien" title="T·ª´ ng·∫´u nhi√™n">üé≤</button>
                </div>
            </div>
        </div>

        <div class="danh-sach" id="danh-sach">
            <div class="loading">ƒêang t·∫£i danh s√°ch...</div>
        </div>
    </main>
    <div id="tieudex" style="display: none;">T·ª´ ƒëi·ªÉn ti·∫øng Dao</div>
    <script src="loadHeader.js"></script>
    <script src="lib/xlsx.full.min.js"></script>
    <script src="js/root.js"></script>
<script>
      function handleMienMunSelection() {
    const select = document.getElementById('chon-phuong-ngu-yao');
    const searchInput = document.getElementById('timkiemx');
    const currentValue = select.value; // 'mien' ho·∫∑c 'mun'
    const searchTerm = searchInput.value.trim();

    if (!searchTerm) {
        locVaHienThi();
        capNhatURL();
        return;
    }

    // X√°c ƒë·ªãnh c·ªôt ngu·ªìn v√† c·ªôt ƒë√≠ch
    const sourceColumn = currentValue === 'mien' ? 'mun' : 'mien';
    
    // T√¨m h√†ng ch·ª©a gi√° tr·ªã hi·ªán t·∫°i
    const matchingRow = duLieuDaLoc.find(hang => 
        hang[sourceColumn]?.toLowerCase() === searchTerm.toLowerCase()
    );

    if (matchingRow) {
        // L·∫•y gi√° tr·ªã t∆∞∆°ng ·ª©ng t·ª´ c·ªôt ƒë·ªëi di·ªán
        const correspondingValue = matchingRow[currentValue];
        if (correspondingValue) {
            // C·∫≠p nh·∫≠t √¥ t√¨m ki·∫øm v·ªõi gi√° tr·ªã m·ªõi
            searchInput.value = correspondingValue;
            // Th·ª±c hi·ªán t√¨m ki·∫øm v·ªõi gi√° tr·ªã m·ªõi
            timTrongDanhSach();
            capNhatURL();
        }
    }

    // C·∫≠p nh·∫≠t giao di·ªán
    locVaHienThi();
}
        // Bi·∫øn to√†n c·ª•c
        let duLieuGoc = [];
        let duLieuDaLoc = [];
        let ketQuaTimKiem = [];
  
        // C√°c h·∫±ng s·ªë
        const CONFIG = {
          TEN_SHEET: 'ci',
          DUONG_DAN_FILE: 'data/dian.xlsx',
          DELAY_NGAUNHIEN: 500,
          SO_HANG_TAI_THEM: 10, // S·ªë l∆∞·ª£ng m·ª•c tr√™n m·ªói trang
          LOAD_THRESHOLD: 100 // Kho·∫£ng c√°ch t·ªõi cu·ªëi trang ƒë·ªÉ b·∫Øt ƒë·∫ßu t·∫£i th√™m (px)
        };
  
        // Th√™m bi·∫øn to√†n c·ª•c ƒë·ªÉ theo d√µi ph√¢n trang
        let trangHienTai = 1;
        let dangTai = false;
  
        const NHOM_NGONNGU = {
          vie: ['zho', 'eng', 'tha', 'lao', 'fra', 'mya'],
          zho: ['vie', 'eng', 'tha', 'lao', 'fra', 'mya'],
          eng: ['vie', 'zho', 'tha', 'lao', 'fra', 'mya'],
          tha: ['vie', 'zho', 'eng', 'lao', 'fra', 'mya'],
          lao: ['vie', 'zho', 'eng', 'tha', 'fra', 'mya'],
          fra: ['vie', 'zho', 'eng', 'tha', 'lao', 'mya'],
          mya: ['vie', 'zho', 'eng', 'tha', 'lao', 'fra']
        };
  
        const NHOM_PHUONGNGU = {
          mun: ['mien', 'mien+'],
          mien: ['mun', 'mun+']
        };
  
        // H√†m ƒë·ªçc tham s·ªë t·ª´ URL
        function docThongSoURL() {
          const urlParams = new URLSearchParams(window.location.search);
          for (const [key, value] of urlParams.entries()) {
            const [phuongNgu, ngonNgu] = key.split('_');
            if (phuongNgu && ngonNgu) {
              const chonPhuongNguYao = document.getElementById('chon-phuong-ngu-yao');
              const chonNgonNgu = document.getElementById('chon-ngon-ngu');
              if (chonPhuongNguYao && NHOM_PHUONGNGU[phuongNgu]) {
                chonPhuongNguYao.value = phuongNgu;
              }
              if (chonNgonNgu && NHOM_NGONNGU[ngonNgu]) {
                chonNgonNgu.value = ngonNgu;
              }
              if (value === '???') {
                setTimeout(() => timTuNgauNhien(), CONFIG.DELAY_NGAUNHIEN);
              } else if (value) {
                const tuKhoa = decodeURIComponent(value).replace(/_/g, ' ');
                document.getElementById('timkiemx').value = tuKhoa;
                setTimeout(() => timTrongDanhSach(), 0);
              }
              return true;
            }
          }
          return false;
        }
  // Function to update both the iframe's URL and parent's address bar
function capNhatURL(laNgauNhien = false) {
  const phuongNgu = document.getElementById('chon-phuong-ngu-yao').value;
  const ngonNgu = document.getElementById('chon-ngon-ngu').value;
  let tuKhoa = document.getElementById('timkiemx').value.trim();
  let queryParams = '';
  
  if (phuongNgu && ngonNgu) {
    queryParams = `${phuongNgu}_${ngonNgu}`;
    if (laNgauNhien) {
      queryParams += '=???';
    } else if (tuKhoa) {
      tuKhoa = tuKhoa.replace(/\s+/g, '_');
      queryParams += `=${encodeURIComponent(tuKhoa)}`;
    }
  }

  // Update iframe's URL
  const url = queryParams ? `ci.html?${queryParams}` : 'ci.html';
  window.history.replaceState({}, '', url);
  
  // Notify parent to update address bar - send just the query parameters
  if (window.parent && window.parent !== window) {
    window.parent.postMessage({
      type: 'iframeUrlChange',
      tabId: 'ci',
      newUrl: queryParams ? `ci?${queryParams}` : 'ci'
    }, '*');
  }
}
  
        // H√†m t√¨m t·ª´ ng·∫´u nhi√™n
        function timTuNgauNhien() {
          if (duLieuDaLoc.length > 0) {
            const chiSoNgauNhien = Math.floor(Math.random() * duLieuDaLoc.length);
            const tuNgauNhien = duLieuDaLoc[chiSoNgauNhien];
            const giaTriHienThi = tuNgauNhien['vuong'] || Object.values(tuNgauNhien)[0];
            document.getElementById('timkiemx').value = giaTriHienThi;
            timTrongDanhSach();
            capNhatURL(true);
          }
        }
  
        // S·ª≠a l·∫°i c√°c event listener
        function khoiTaoSuKien() {
          document.getElementById('chon-ngon-ngu').addEventListener('change', () => {
            locVaHienThi();
            capNhatURL();
            timTrongDanhSach();
          });
          document.getElementById('chon-phuong-ngu-yao').addEventListener('change', () => {
            locVaHienThi();
            capNhatURL();
            timTrongDanhSach();
          });
          document.getElementById('nut-tim-kiem').addEventListener('click', () => {
            timTrongDanhSach();
            capNhatURL();
          });
          document.getElementById('timkiemx').addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
              timTrongDanhSach();
              capNhatURL();
            }
          });
          document.getElementById('nut-ngau-nhien').addEventListener('click', timTuNgauNhien);
          window.addEventListener('scroll', () => {
            kiemTraVaTaiThem();
          });
          let timeoutId;
          window.addEventListener('scroll', () => {
            if (timeoutId) {
              clearTimeout(timeoutId);
            }
            timeoutId = setTimeout(() => {
              kiemTraVaTaiThem();
            }, 100);
          });
        }
  
        // H√†m kh·ªüi t·∫°o
        async function taiDuLieuExcel() {
          try {
            const phanHoi = await fetch(CONFIG.DUONG_DAN_FILE);
            const duLieu = await phanHoi.arrayBuffer();
            const workbook = XLSX.read(duLieu, { type: 'array' });
            const tenSheet = workbook.SheetNames.find(sheet => sheet === CONFIG.TEN_SHEET);
            if (!tenSheet) {
              throw new Error(`Kh√¥ng t√¨m th·∫•y sheet c√≥ t√™n "${CONFIG.TEN_SHEET}"`);
            }
            duLieuGoc = XLSX.utils.sheet_to_json(workbook.Sheets[tenSheet], { header: 1 });
            if (duLieuGoc.length > 0) {
              khoiTaoSuKien();
              const coThongSoURL = docThongSoURL();
              locVaHienThi();
              if (coThongSoURL && document.getElementById('timkiemx').value) {
                timTrongDanhSach();
              }
            }
          } catch (l·ªói) {
            console.error('L·ªói khi t·∫£i file Excel:', l·ªói);
            document.getElementById('danh-sach').innerHTML = 
              '<div class="error">Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i sau.</div>';
          }
        }
  
        // H√†m l·ªçc & hi·ªÉn th·ªã d·ªØ li·ªáu
        function locVaHienThi() {
          const ngonNgu = document.getElementById('chon-ngon-ngu').value;
          const phuongNgu = document.getElementById('chon-phuong-ngu-yao').value;
          const ti√™uƒê·ªÅ = duLieuGoc[0];
          duLieuDaLoc = [];
          trangHienTai = 1;
          dangTai = false;
          for (let i = 1; i < duLieuGoc.length; i++) {
            const hang = duLieuGoc[i];
            let duLieuH√†ng = {};
            let coDuLieuPhuHop = false;
            ti√™uƒê·ªÅ.forEach((t√™nc·ªôt, j) => {
              const giaTri = hang[j];
              if (!giaTri) return;
              const canAnNgonNgu = NHOM_NGONNGU[ngonNgu]?.some(ng => t√™nc·ªôt.includes(ng));
              const canAnPhuongNgu = NHOM_PHUONGNGU[phuongNgu]?.some(v => t√™nc·ªôt.includes(v));
              if (!canAnNgonNgu && !canAnPhuongNgu) {
                duLieuH√†ng[t√™nc·ªôt] = giaTri;
              }
              if (t√™nc·ªôt.includes(ngonNgu) && t√™nc·ªôt.includes(phuongNgu) && giaTri) {
                coDuLieuPhuHop = true;
              }
            });
            if (coDuLieuPhuHop && Object.keys(duLieuH√†ng).length > 0) {
              duLieuDaLoc.push(duLieuH√†ng);
            }
          }
          ketQuaTimKiem = duLieuDaLoc;
          hienThiDanhSach(duLieuDaLoc, '', false);
        }
  
        // H√†m hi·ªÉn th·ªã danh s√°ch
        function hienThiDanhSach(duLieuHi·ªÉnTh·ªã = duLieuDaLoc, tuKhoaTimKiem = '', th√™mV√†o = false) {
          const danhS√°chElement = document.getElementById('danh-sach');
          if (!duLieuHi·ªÉnTh·ªã.length) {
            danhS√°chElement.innerHTML = '<div class="no-results">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o</div>';
            return;
          }
          const batDau = th√™mV√†o ? (trangHienTai - 1) * CONFIG.SO_HANG_TAI_THEM : 0;
          const ketThuc = trangHienTai * CONFIG.SO_HANG_TAI_THEM;
          const duLieuTrang = duLieuHi·ªÉnTh·ªã.slice(batDau, ketThuc);
          const htmlContent = duLieuTrang
            .map(hang => thietKeGiaoDienHang(hang, tuKhoaTimKiem))
            .join('');
          if (th√™mV√†o) {
            danhS√°chElement.insertAdjacentHTML('beforeend', htmlContent);
          } else {
            danhS√°chElement.innerHTML = htmlContent;
          }
        }
  
        // H√†m ki·ªÉm tra v√† t·∫£i th√™m d·ªØ li·ªáu
        function kiemTraVaTaiThem() {
          if (dangTai) return;
          const danhS√°chElement = document.getElementById('danh-sach');
          const cu·ªôn = window.innerHeight + window.pageYOffset;
          const chi·ªÅuCao = document.documentElement.scrollHeight;
          if (cu·ªôn >= chi·ªÅuCao - CONFIG.LOAD_THRESHOLD) {
            const duLieuHi·ªánT·∫°i = ketQuaTimKiem.length > 0 ? ketQuaTimKiem : duLieuDaLoc;
            const batDau = trangHienTai * CONFIG.SO_HANG_TAI_THEM;
            if (batDau < duLieuHi·ªánT·∫°i.length) {
              taiThemDuLieu();
            }
          }
        }
  
        // H√†m t·∫£i th√™m d·ªØ li·ªáu
        function taiThemDuLieu() {
          if (dangTai) return;
          dangTai = true;
          const duLieuHi·ªánT·∫°i = ketQuaTimKiem.length > 0 ? ketQuaTimKiem : duLieuDaLoc;
          const tuKhoa = document.getElementById('timkiemx').value;
          const batDau = trangHienTai * CONFIG.SO_HANG_TAI_THEM;
          const ketThuc = (trangHienTai + 1) * CONFIG.SO_HANG_TAI_THEM;
          if (batDau < duLieuHi·ªánT·∫°i.length) {
            trangHienTai++;
            hienThiDanhSach(duLieuHi·ªánT·∫°i, tuKhoa, true);
            console.log(`ƒê√£ t·∫£i th√™m: ${batDau} ƒë·∫øn ${ketThuc} / ${duLieuHi·ªánT·∫°i.length}`);
          }
          setTimeout(() => {
            dangTai = false;
          }, 100);
        }
  
        // H√†m x·ª≠ l√Ω n·ªôi dung ng√¥n ng·ªØ
        function xuLyNoiDungGiaiNghia(text, tuKhoaTim = '', loaiTim = 'mun') {
          if (!text) return '';
  
          function danhDauTuKhoa(text, tuKhoa) {
            if (!tuKhoa) return text;
            const regex = new RegExp(`(${tuKhoa})`, 'gi');
            return text.replace(regex, '<b>$1</b>');
          }
  
          function taoLienKetVidu(viDu) {
            // Directly navigate to ipa.html instead of opening a popup.
            const param = loaiTim === 'mun' ? 'QMun' : 'QMien';
            return `<span 
                      class="vi-du"
                      style="cursor: pointer; user-select: text;"
                      onclick="window.location.href='ipa.html?${param}='+encodeURIComponent(viDu)">
                      ${danhDauTuKhoa(viDu, tuKhoaTim)}
                    </span>`;
          }
  
          const lines = text.split('\n').filter(line => line.trim());
          const wordGroups = {};
          lines.forEach(line => {
            const parts = line.split('#').map(part => part.trim());
            const phanDauTien = parts[0];
            const tuLoaiMatch = phanDauTien.match(/^\[(.*?)\]/);
            if (tuLoaiMatch) {
              const tuLoai = tuLoaiMatch[1];
              const tuChinh = phanDauTien.substring(tuLoaiMatch[0].length).trim();
              if (!wordGroups[tuLoai]) {
                wordGroups[tuLoai] = [];
              }
              wordGroups[tuLoai].push({
                tu: tuChinh,
                viDu: parts.slice(1)
              });
            } else {
              if (!wordGroups['']) {
                wordGroups[''] = [];
              }
              wordGroups[''].push({
                tu: phanDauTien,
                viDu: parts.slice(1)
              });
            }
          });
  
          let html = '';
          Object.entries(wordGroups).forEach(([tuLoai, words]) => {
            if (tuLoai) {
              html += `<div class="tu-loai">
                        ${tuLoai.charAt(0).toUpperCase() + tuLoai.slice(1)} T·ª´
                       </div>`;
            }
            words.forEach(word => {
              html += `<div class="tu-chinh">${word.tu}</div>`;
              if (word.viDu.length > 0) {
                html += '<div class="khung-vi-du">';
                word.viDu.forEach((example, index) => {
                  const [viDu, giaiThich] = example.split('=').map(p => p.trim());
                  html += `<div>
                            ${index + 1}. ${taoLienKetVidu(viDu)}
                            ${giaiThich ? `‚Äî <span class="vi-du-giai-thich">${giaiThich}</span>` : ''}
                          </div>`;
                });
                html += '</div>';
              }
            });
          });
          return html;
        }
  
        // H√†m t·∫°o HTML cho m·ªôt h√†ng d·ªØ li·ªáu
        function thietKeGiaoDienHang(hang, tuKhoaTimKiem = '') {
          const toSangTuKhoa = (text) => {
            if (!text || !tuKhoaTimKiem) return text;
            const regex = new RegExp(`(${tuKhoaTimKiem})`, 'gi');
            return text.toString().replace(regex, '<span class="to-sang-tim-kiem">$1</span>');
          };
  
          // Link chuy·ªÉn qua trang Ch·ªØ N√¥m (vu√¥ng)
          const taoLienKetCotVuong = (giaTri) => {
            if (!giaTri) return '';
            const giaTriHienThi = tuKhoaTimKiem ? toSangTuKhoa(giaTri) : giaTri;
            return `<a href="zi.html?zi=${encodeURIComponent(giaTri)}" 
                        onclick="window.parent.updateIframe('zi', 'zi.html?zi=${encodeURIComponent(giaTri)}'); return false;"
                        class="vuong"
                        title="Xem '${giaTri}' tr√™n zi">
                        <span>${giaTriHienThi}</span>
                    </a>`;
          };
  
          // Link chuy·ªÉn sang trang IPA
          const taoLienKetIPA = (loai, giaTri) => {
            if (!giaTri) return '';
            const param = loai === 'mun' ? 'QMun' : 'QMien';
            const kyTuLoaiBo = /[‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ]/g;
            const giaTriURL = giaTri.replace(kyTuLoaiBo, '');
            const giaTriHienThi = tuKhoaTimKiem ? toSangTuKhoa(giaTri) : giaTri;
            return `<a href="ipa.html?${param}=${encodeURIComponent(giaTriURL)}" 
                        onclick="window.parent.updateIframe('ipa', 'ipa.html?${param}=${encodeURIComponent(giaTriURL)}'); return false;"
                        class="${loai.toLowerCase()}"
                        title="Xem '${giaTri}' tr√™n IPA">
                        <span>${giaTriHienThi}</span>
                    </a>`;
          };
  
          const vuong = taoLienKetCotVuong(hang['vuong'] || '');
          const mun = taoLienKetIPA('mun', hang['mun']);
          const mien = taoLienKetIPA('mien', hang['mien']);
          const munn = taoLienKetIPA('mun+', hang['mun+']);
          const mienn = taoLienKetIPA('mien+', hang['mien+']);
          // X·ª≠ l√Ω c√°c c·ªôt kh√°c
          const munViet = xuLyNoiDungGiaiNghia(hang['mun:vie'] || '', hang['mun'] || '', 'mun');
          const mienViet = xuLyNoiDungGiaiNghia(hang['mien:vie'] || '', hang['mien'] || '', 'mien');
          const munTrung = xuLyNoiDungGiaiNghia(hang['mun:zho'] || '', hang['mun'] || '', 'mun');
          const mienTrung = xuLyNoiDungGiaiNghia(hang['mien:zho'] || '', hang['mien'] || '', 'mien');
          const munAnh = xuLyNoiDungGiaiNghia(hang['mun:eng'] || '', hang['mun'] || '', 'mun');
          const mienAnh = xuLyNoiDungGiaiNghia(hang['mien:eng'] || '', hang['mien'] || '', 'mien');
          const munThai = xuLyNoiDungGiaiNghia(hang['mun:tha'] || '', hang['mun'] || '', 'mun');
          const mienThai = xuLyNoiDungGiaiNghia(hang['mien:tha'] || '', hang['mien'] || '', 'mien');
          const munLao = xuLyNoiDungGiaiNghia(hang['mun:lao'] || '', hang['mun'] || '', 'mun');
          const mienLao = xuLyNoiDungGiaiNghia(hang['mien:lao'] || '', hang['mien'] || '', 'mien');
          const munPhap = xuLyNoiDungGiaiNghia(hang['mun:fra'] || '', hang['mun'] || '', 'mun');
          const mienPhap = xuLyNoiDungGiaiNghia(hang['mien:fra'] || '', hang['mien'] || '', 'mien');
          const munMyanma = xuLyNoiDungGiaiNghia(hang['mun:mya'] || '', hang['mun'] || '', 'mun');
          const mienMyanma = xuLyNoiDungGiaiNghia(hang['mien:mya'] || '', hang['mien'] || '', 'mien');
  
          const taoGocHTML = (nh√£n, giaTri, lop) => {
            if (!giaTri) return '';
            const giaTriHienThi = tuKhoaTimKiem ? toSangTuKhoa(giaTri) : giaTri;
            return `<span class="${lop}">${nh√£n}: ${giaTriHienThi}</span>`;
          };
  // T·∫°o ph·∫ßn HTML cho mun/munn v√† mien/mienn c√≥ ƒëi·ªÅu ki·ªán
  const taoHtmlMun = () => {
    if (!hang['mun']) return '';
    return `<span class="mun">${mun}${hang['mun+'] ? `(${munn})` : ''}</span>`;
  };

  const taoHtmlMien = () => {
    if (!hang['mien']) return '';
    return `<span class="mien">${mien}${hang['mien+'] ? `(${mienn})` : ''}</span>`;
  };

  return `
    <div class="hang-danh-sach">
      <div class="muc-tu-chinh">
        ${taoHtmlMun()}
        ${taoHtmlMien()}
        <span class="vuong">${vuong}</span>
      </div>
      <div class="y-nghia">
        <div>${munViet}${mienViet}</div>
        <div>${munTrung}${mienTrung}</div>
        <div>${munAnh}${mienAnh}</div>
        <div>${munThai}${mienThai}</div>
        <div>${munLao}${mienLao}</div>
        <div>${munPhap}${mienPhap}</div>
        <div>${munMyanma}${mienMyanma}</div>
      </div>
      <div class="proto-pre">
        ${taoGocHTML('PROTO', hang['Proto'], 'proto')}
        ${taoGocHTML('Pre', hang['Pre'], 'pre')}
        ${taoGocHTML('Proto Liu', hang['Proto Liu'], 'proto-liu')}
      </div>
    </div>
  `;
}
  
        // H√†m t√¨m ki·∫øm trong danh s√°ch
        function timTrongDanhSach() {
          const tuKhoa = document.getElementById('timkiemx').value.toLowerCase();
          trangHienTai = 1;
          if (!tuKhoa) {
            ketQuaTimKiem = duLieuDaLoc;
            hienThiDanhSach();
            return;
          }
          ketQuaTimKiem = duLieuDaLoc.filter(hang =>
            Object.values(hang).some(giaTri =>
              giaTri.toString().toLowerCase().includes(tuKhoa)
            )
          );
          hienThiDanhSach(ketQuaTimKiem, tuKhoa, false);
        }
  
        // Kh·ªüi ch·∫°y ·ª©ng d·ª•ng khi t√†i li·ªáu ƒë∆∞·ª£c t·∫£i xong
        document.addEventListener('DOMContentLoaded', taiDuLieuExcel);
        // Example of link handling in ci.html
function handleLinkClick(event, targetTabId, targetUrl) {
  event.preventDefault();
  
  // Update parent URL immediately
  if (window.parent && window.parent !== window) {
    window.parent.postMessage({
      type: 'iframeUrlChange',
      tabId: targetTabId,
      newUrl: targetUrl
    }, '*');
  }
  
  // Then proceed with navigation
  window.location.href = targetUrl;
}


      </script>
</body>
</html>